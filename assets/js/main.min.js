const preferences=CookiesEntity.getInstance().init("preferences"),loader=new Loader(document.currentScript.getAttribute("data-files"),preferences.get("settings")?.advanced?.assets||"precise").load().then(async()=>{await(new AuthenticatorQueue).queue(),await(new HeroSearch).queue(),await(new UserSettingsQueue).queue()}).then(async()=>{const wrapper=document.querySelector("body > .wrapper");!wrapper||wrapper.removeAttribute("style");const promises=[];promises.push(()=>Promise.resolve((new CommentsCounterView).render())),promises.push(()=>new Promise(resolve=>{history.scrollRestoration="manual",$(window).on("beforeunload",()=>{$(window).scrollTop(0)}),resolve()})),promises.push(()=>new Promise(resolve=>{$("body").attr("data-loaded",!0).removeClass("loading").promise().done(()=>{window.requestTimeout(()=>resolve(),1250)})})),promises.push(()=>new Promise(resolve=>{$("#preloader").remove().promise().done(()=>{window.requestTimeout(()=>resolve(),1750)})}));for(const promise of promises)await promise();(new Snapping).run()})