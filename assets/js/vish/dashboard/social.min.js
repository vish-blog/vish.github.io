"use strict";function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=babelHelpers.getPrototypeOf(a),e;return b?(e=babelHelpers.getPrototypeOf(this).constructor,c=Reflect.construct(d,arguments,e)):c=d.apply(this,arguments),babelHelpers.possibleConstructorReturn(this,c)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _classPrivateMethodGet(a,b,c){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return c}var _whichUser=new WeakSet,_identifyPage=new WeakSet,DashboardSocialRelationshipsController=function(a){function DashboardSocialRelationshipsController(){babelHelpers.classCallCheck(this,DashboardSocialRelationshipsController);for(var a,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return a=b.call.apply(b,[this].concat(d)),_identifyPage.add(babelHelpers.assertThisInitialized(a)),_whichUser.add(babelHelpers.assertThisInitialized(a)),a}babelHelpers.inherits(DashboardSocialRelationshipsController,a);var b=_createSuper(DashboardSocialRelationshipsController);return babelHelpers.createClass(DashboardSocialRelationshipsController,[{key:"find",value:function(){var a=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee2(a){var b,c;return regeneratorRuntime.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:if(b=_classPrivateMethodGet(this,_whichUser,_whichUser2).call(this),!!b){d.next=3;break}return d.abrupt("return",Promise.reject(403));case 3:return d.next=5,new GithubUsersAPI({headers:GithubAPI.getHeaders()}).get(b).then(function(){var a=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee(a){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:if(a.ok){b.next=2;break}return b.abrupt("return",Promise.reject(404));case 2:case"end":return b.stop()}},_callee)}));return function(){return a.apply(this,arguments)}}());case 5:c=new GithubUsersAPI({headers:GithubAPI.getHeaders()}),d.t0=a,d.next="followers"===d.t0?9:"following"===d.t0?12:"blocked"===d.t0?15:18;break;case 9:return d.next=11,c.getFollowers(b);case 11:return d.abrupt("return",d.sent);case 12:return d.next=14,c.getFollowing(b);case 14:return d.abrupt("return",d.sent);case 15:return d.next=17,c.getBlocked(b);case 17:return d.abrupt("return",d.sent);case 18:case"end":return d.stop()}},_callee2,this)}));return function(){return a.apply(this,arguments)}}()}]),DashboardSocialRelationshipsController}(Core);function _whichUser2(){var a=Objects.toCamelCase(JSON.parse(_URLs)),b=_classPrivateMethodGet(this,_identifyPage,_identifyPage2).call(this),c;return new RegExp(a.usersDashboard).test(b)?null===(c=CookiesEntity.getInstance().get("auth"))||void 0===c?void 0:c.username:b==a.publicProfiles?RequestUtils.getParameters("user"):void 0}function _identifyPage2(){return sprintf("/%s",Strings.trim(new URL(window.location.href).pathname,"/"))}babelHelpers.defineProperty(DashboardSocialRelationshipsController,"PROFILES_URI","/perfil"),babelHelpers.defineProperty(DashboardSocialRelationshipsController,"PROFILE","/perfil/?user=%(username)s");"use strict";function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=babelHelpers.getPrototypeOf(a),e;return b?(e=babelHelpers.getPrototypeOf(this).constructor,c=Reflect.construct(d,arguments,e)):c=d.apply(this,arguments),babelHelpers.possibleConstructorReturn(this,c)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _classPrivateMethodGet(a,b,c){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return c}var _getTarget=new WeakSet,DashboardSocialRelationshipsView=function(a){function DashboardSocialRelationshipsView(){babelHelpers.classCallCheck(this,DashboardSocialRelationshipsView);for(var a,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return a=b.call.apply(b,[this].concat(d)),_getTarget.add(babelHelpers.assertThisInitialized(a)),a}babelHelpers.inherits(DashboardSocialRelationshipsView,a);var b=_createSuper(DashboardSocialRelationshipsView);return babelHelpers.createClass(DashboardSocialRelationshipsView,[{key:"render",value:function(){var a=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee3(a,b){var c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:c=_classPrivateMethodGet(this,_getTarget,_getTarget2).call(this,a),d=c.find("ul"),this.getOptions().data.then(function(){var a=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee(a){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(0!=a.length){e.next=2;break}return e.abrupt("return",Promise.reject(204));case 2:return Arrays.shuffle(a),a.slice(0,b).forEach(function(a){var b=$("#dashboard .template.user-list").clone(),c;b.find(".avatar img").attr({src:sprintf("%s&s=200",a.avatar_url),loading:"lazy",fetchpriority:"low",height:200,width:200}),c=$("<a />",{href:sprintf(DashboardSocialRelationshipsController.PROFILE,{username:a.login}),rel:"nofollow",target:"_blank"}).text(sprintf("@%s",a.login)),b.attr("data-user",a.login),b.find(".user").text(a.name),b.find(".username small").append(c),b.removeClass("template d-none").appendTo(d),d.parent().next("footer").children().removeClass("d-none")}),"false"===d.attr("data-actions")?d.find(".actions").remove():d.find(sprintf(".%s",d.attr("data-action-icon"))).removeClass("d-none"),e.next=7,(new CommonAnimations).showHide(c.find(".loading"),!0);case 7:d.removeClass("d-none");case 8:case"end":return e.stop()}},_callee)}));return function(){return a.apply(this,arguments)}}()).catch(function(){var a=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee2(a){return regeneratorRuntime.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,(new CommonAnimations).showHide(c.find(".loading"),!0);case 2:b.t0=a,b.next=403===b.t0?5:404===b.t0?7:204===b.t0?9:9;break;case 5:return c.find(".unavailable:first").removeClass("d-none"),b.abrupt("break",11);case 7:return c.find(".not-found").removeClass("d-none"),b.abrupt("break",11);case 9:return c.find(".no-data").removeClass("d-none"),b.abrupt("break",11);case 11:case"end":return b.stop()}},_callee2)}));return function(){return a.apply(this,arguments)}}());case 3:case"end":return e.stop()}},_callee3,this)}));return function(){return a.apply(this,arguments)}}()},{key:"verify",value:function(){var a=this.getOptions();if(!!!a.data)throw InvalidArgumentException.missingConfigurationParameter("data");if(!Arguments.isPromise(a.data))throw InvalidArgumentException.notPromise(this,"render")}}]),DashboardSocialRelationshipsView}(AbstractView);function _getTarget2(a){return"followers"===a?$(".social .followers"):"blocked"===a?$(".social .blocked"):"following"===a?$(".social .follows"):void 0}"use strict";function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=babelHelpers.getPrototypeOf(a),e;return b?(e=babelHelpers.getPrototypeOf(this).constructor,c=Reflect.construct(d,arguments,e)):c=d.apply(this,arguments),babelHelpers.possibleConstructorReturn(this,c)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}function _classPrivateMethodGet(a,b,c){if(!b.has(a))throw new TypeError("attempted to get private field on non-instance");return c}var _getTargetElement=new WeakSet,DashboardSocialRelationshipsRemovalView=function(a){function DashboardSocialRelationshipsRemovalView(){babelHelpers.classCallCheck(this,DashboardSocialRelationshipsRemovalView);for(var a,c=arguments.length,d=Array(c),e=0;e<c;e++)d[e]=arguments[e];return a=b.call.apply(b,[this].concat(d)),_getTargetElement.add(babelHelpers.assertThisInitialized(a)),a}babelHelpers.inherits(DashboardSocialRelationshipsRemovalView,a);var b=_createSuper(DashboardSocialRelationshipsRemovalView);return babelHelpers.createClass(DashboardSocialRelationshipsRemovalView,[{key:"render",value:function(){var a=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee3(a){var b;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:b=_classPrivateMethodGet(this,_getTargetElement,_getTargetElement2).call(this,a),this.getOptions().data.then(function(){var a=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee(a){var c,d;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(c=b.find(sprintf('[data-user="%s"]',a)),d=c.parent("ul"),c.remove(),0!=d.children().length){e.next=6;break}return d.remove(),e.abrupt("return",Promise.reject(204));case 6:case"end":return e.stop()}},_callee)}));return function(){return a.apply(this,arguments)}}()).catch(function(){var a=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee2(a){return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:c.t0=a,c.next=204===c.t0?3:3;break;case 3:return b.find(".no-data").removeClass("d-none"),c.abrupt("break",5);case 5:case"end":return c.stop()}},_callee2)}));return function(){return a.apply(this,arguments)}}());case 2:case"end":return c.stop()}},_callee3,this)}));return function(){return a.apply(this,arguments)}}()},{key:"verify",value:function(){var a=this.getOptions();if(!!!a.data)throw InvalidArgumentException.missingConfigurationParameter("data");if(!Arguments.isPromise(a.data))throw InvalidArgumentException.notPromise(this,"render")}}]),DashboardSocialRelationshipsRemovalView}(AbstractView);function _getTargetElement2(a){return"following"===a?$(".social .follows"):"blocked"===a?$(".social .blocked"):void 0}"use strict";function _createSuper(a){var b=_isNativeReflectConstruct();return function(){var c,d=babelHelpers.getPrototypeOf(a),e;return b?(e=babelHelpers.getPrototypeOf(this).constructor,c=Reflect.construct(d,arguments,e)):c=d.apply(this,arguments),babelHelpers.possibleConstructorReturn(this,c)}}function _isNativeReflectConstruct(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(a){return!1}}var DashboardSocialRelationshipsQueue=function(a){function DashboardSocialRelationshipsQueue(){return babelHelpers.classCallCheck(this,DashboardSocialRelationshipsQueue),b.apply(this,arguments)}babelHelpers.inherits(DashboardSocialRelationshipsQueue,a);var b=_createSuper(DashboardSocialRelationshipsQueue);return babelHelpers.createClass(DashboardSocialRelationshipsQueue,[{key:"queue",value:function(){var a=EventQueue.getInstance();a.queue({event:"ready",handler:function(){var a=new DashboardSocialRelationshipsController;new DashboardSocialRelationshipsView({data:a.find("followers")}).render("followers"),new DashboardSocialRelationshipsView({data:a.find("following")}).render("following"),new DashboardSocialRelationshipsView({data:a.find("blocked")}).render("blocked")}}),a.queue({target:$(".follows ul"),delegated:"a.unfollow",event:"click",handler:function(){var a=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee(a){var b;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:b=Strings.trim($(a.currentTarget).parent().prev(".meta").find(".username").text().trim(),"@"),new GithubUsersAPI({headers:GithubAPI.getHeaders()}).unfollow(b).then(function(){new DashboardSocialRelationshipsRemovalView({data:Promise.resolve(b)}).render("following")}).catch(function(a){return console.info(a)});case 2:case"end":return c.stop()}},_callee)}));return function(){return a.apply(this,arguments)}}()}),a.queue({target:$(".blocked ul"),delegated:"a.unblock",event:"click",handler:function(){var a=babelHelpers.asyncToGenerator(regeneratorRuntime.mark(function _callee2(a){var b;return regeneratorRuntime.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:b=Strings.trim($(a.currentTarget).parent().prev(".meta").find(".username").text().trim(),"@"),new GithubUsersAPI({headers:GithubAPI.getHeaders()}).unblock(b).then(function(){new DashboardSocialRelationshipsRemovalView({data:Promise.resolve(b)}).render("blocked")}).catch(function(a){return console.info(a)});case 2:case"end":return c.stop()}},_callee2)}));return function(){return a.apply(this,arguments)}}()})}}]),DashboardSocialRelationshipsQueue}(Core);(new DashboardSocialRelationshipsQueue).queue()